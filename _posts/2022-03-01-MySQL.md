数据库连接

连接到数据库的指令：

```shell
mysql -h 主机IP -P 端口 -u 用户名 -p密码
```

* -p密码不要有空格
* -p后面没有写密码，回车会要求输入密码
* 如果没有写-h主机，默认就是本机
* 如果没写-P端口，默认就是3306



### 创建数据库

```sql
CREATE DATABASE db03;

DROP DATABASE db03

#创建一个使用utf8字符集的db03数据库
CREATE DATABASE db01 CHARACTER SET utf8
#创建一个使用uft8字符集，并待校对规则的db02数据库
CREATE DATABASE db02 CHARACTER SET utf8 COLLATE utf8_bin
#校对规则 utf8_bin 区分大小写，默认utf8_general_ci 不区分大小写

SELECT * FROM t1 WHERE NAME = 'Tom'
#查看当前数据库服务器中的所有数据库
SHOW DATABASES
#查看之前创建的数据库的定义信息
SHOW CREATE DATABASE db01

#反引号可以创建按关键字名称的数据库
CREATE DATABASE `create`
DROP DATABASE `create`
```



### 备份恢复数据库

```sql
#备份数据库(注意: 在DOS执行)命令行
mysqldump -u 用户名 -p -B 数据库1 数据库2 数据库n > 文件名（可以添加路径）.sql
#备份表
mysqldump -u 用户名 -p(密码) 数据库 表1 表2 表n > 文件名（可以添加路径）.sql
#恢复数据库，其实就是读取sql备份文件(注意： 进入Mysql命令行再执行)
Source 文件名.sql
```

所谓恢复其实就是将备份的`sql`文件里的所有`SQL`指令执行一遍



### 创建表

```sql
CREATE TABLE `user`(
	id INT,
	`name` VARCHAR(255),
	`password` VARCHAR(32),
	`birthday` DATE)
CHARACTER SET utf8 COLLATE utf8_bin ENGINE INNODB
```



### 列类型

1. 数值类型：

   <img src="https://s2.loli.net/2022/03/01/o5nqT6J8MHOg4iR.png" alt="image-20210912000945238" style="zoom:50%;" />

2. 文本类型（字符串类型）：

   <img src="https://s2.loli.net/2022/03/01/gwkdZRfh71M9OUS.png" alt="image-20210912001116614" style="zoom:50%;" />

3. 二进制数据类型

   <img src="https://s2.loli.net/2022/03/01/Nip53JvZPnboxX9.png" alt="image-20210912001330626-16313768117614" style="zoom: 67%;" />

4. 日期类型

   <img src="https://s2.loli.net/2022/03/01/R5CGUr6HoYZyKmF.png" alt="image-20210912001753675" style="zoom:50%;" />

### 整数类型

```sql
#如果没有指定unsigned,则TINYINT就是有符号
CREATE TABLE t3(
	id TINYINT UNSIGNED);

INSERT INTO t3 VALUES(-123);

SELECT * FROM t3
```





### 增删改查

数据表的基础操作(我自己理解为字段的属性)

```sql
auto_increment :自动增长
not null :表示不为空
primary key :表示主键
default :默认值
```

#### 增

添加数据库：

```sql
#查看当前数据库服务器中的所有数据库
show databases;

create database school charset=utf8;
#查看之前创建的数据库的定义信息
show create database school;
```

创建表：

```sql
use school;
show tables;
create table students(
    id int unsigned not null auto_increment primary key,
    name varchar(50) not null default "张三",
    age tinyint unsigned not null default 18,
    high decimal(5,2) not null,
    gender enum("男", "女", "保密")default "保密",
    cls_id int unsigned not null);
-- 查看创建表的语句
show create table students;
```

字段增：

```sql
alter table student add birth datetime;  #增加一个字段可以简单理解为表增加一个新列
```

数据增：

```sql
#一次插入一条完整信息，主键可以用 0 null default来占位
insert into student values(para1,para2,para3,para4,para5); #para为该表的所有列
#部分插入
insert into students(high) values(172);#插入部分字段的前提是没有插入的字段要有自己的默认值
#多行插入
insert into student(name,high) values("Mike",183),('Jane',163);
```

#### 删

删库：

```sql
drop database school;
```

删表：

```sql
use school;  #进入数据库
show tables;  #查看当前表
drop table student;
```

删字段：

```sql
desc student; #查看表的字段
alter table student drop high #删除high字段
desc student;
```

删数据：

```sql
delete from student where id=6;#这里删除之后id并不会重新排序，也就是id=5后面紧跟着就是id=7，id=6这条数据没了
```

#### 改

改字段：

```sql
#改字段属性
alter table student modify birth date;  #这里可以一次修改改字段的多个属性，但前提是修改后不得与表中已有信息冲突。
alter table student modify cls_id tinyint unsigned default 1; 
#可同时更改字段属性和名字
alter table student change birth birthday date default "2020-01-01";
```

改数据：

```sql
update student set age = 18 where id>=1 and id<=3;
```

#### 查









